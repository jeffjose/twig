# Example configuration for twig prompt generator
#
# Variable Resolution Rules:
# 1. Implicit sections: Using {cwd} in template auto-creates [cwd] section
# 2. Default names: [hostname] without name field creates {hostname} variable
# 3. Custom names: [cwd] with name="mydir" creates {mydir} variable instead
#
# Variable Types:
# - Built-in variables: {time}, {hostname}, {cwd}, {terminal_width}
# - Git variables: {git_branch}, {git_tracking}, {git_status}, {git_elapsed}
# - IP variables: {ip_address}, {ip_interface}, {ip_version}
# - Battery variables: {battery_percentage}, {battery_status}, {battery_power}
# - Environment variables: {$USER}, {$HOME}, etc.
# - Literal text: {"@":yellow}
#
# Styling: {var:color} or {var:color,style}
# Colors: black, red, green, yellow, blue, magenta, cyan, white
#         bright_black, bright_red, etc.
# Styles: bold, italic, underline
#
# Conditional Spacing: Use ~ for spaces that only appear if the next variable exists
# Example: {cwd}~{git_branch} - space only appears when in a git repo

# Sections are created implicitly from template variables
# Uncomment to customize behavior:
#
# [time]
# format = "%H:%M:%S"  # default format
#
# [hostname]
# name = "host"  # use {host} instead of {hostname}
#
# [cwd]
# name = "dir"  # use {dir} instead of {cwd}

# Built-in Terminal Variables:
# - {terminal_width} - Current terminal width in columns (e.g., "120", "80")
#   Note: Shows "N/A" when not running in a real terminal (e.g., when piping)
#   Useful for: Debugging responsive prompts, displaying terminal info
#   Example: (width:{terminal_width:yellow})

# Git Variables (all variables share 'git' prefix for auto-detection):
# - {git_branch} - current branch name (e.g., "main", "dev")
# - {git_tracking} - ahead/behind status (e.g., "(ahead.2)", "(behind.3)")
# - {git_status_clean} - clean status indicator (":âœ”") [green]
# - {git_status_staged} - staged files (":+N") [yellow]
# - {git_status_unstaged} - modified/untracked files (":+N") [red]
# - {git_elapsed} - time since last commit (e.g., ":2s", ":5m", ":17h")
# Note: Specify colors in template for proper shell formatting

# IP Address Variables (all variables share 'ip' prefix for auto-detection):
# - {ip_address} - IP address (IPv4 or IPv6, e.g., "192.168.1.100", "fe80::1")
# - {ip_interface} - Interface name (e.g., "eth0", "wlan0", "en0")
# - {ip_version} - IP version ("4" or "6")
# Note: Auto-detects primary interface by default
#
# Uncomment to customize:
# [ip]
# interface = "wlan0"    # Specify interface (default: auto-detect)
# prefer_ipv6 = false    # Prefer IPv6 over IPv4 (default: false)

# Battery Variables (all variables share 'battery' prefix for auto-detection):
# - {battery_percentage} - Battery percentage (e.g., "85%")
# - {battery_status} - Battery status ("Charging", "Discharging", "Full", "Empty")
# - {battery_power} - Power draw in watts (e.g., "+45.2W" charging, "-12.5W" discharging)
# - {battery_power_charging} - Power when charging (e.g., "+45.2W") - only set when charging
# - {battery_power_discharging} - Power when discharging (e.g., "-12.5W") - only set when discharging
# Note: Returns empty on desktops without batteries
#
# Tip: Use conditional spacing (~) with charging/discharging variables for automatic color:
#   {battery_power_charging:green}~{battery_power_discharging:yellow}
#   This shows green when charging, yellow when discharging!
#
# Uncomment to enable:
# [battery]

# Responsive Prompts - Automatic prompt switching based on terminal width
#
# Two modes available:
#
# 1. DYNAMIC (no width_threshold) - Smart length-based switching:
#    - Tries format (or format_wide if available) first
#    - Measures actual rendered length (strips ANSI codes)
#    - If length + 10 > terminal_width, switches to format_narrow
#    - Adapts to actual content (long paths trigger narrow even on wide terminals)
#    - DEFAULT MODE (recommended)
#
# 2. STATIC (with width_threshold) - Fixed threshold switching:
#    - Uses format_narrow when terminal width < threshold
#    - Uses format_wide when terminal width >= threshold
#    - Simple and predictable
#
# Variables:
# - format: Base/fallback format (always required)
# - format_wide: Optional override for wide terminals
# - format_narrow: Optional override for narrow terminals/long prompts
# - width_threshold: Optional fixed column threshold (enables static mode)
#
# Example - Dynamic (current config below):
# [prompt]
# format = "{cwd}$ "
# format_narrow = "{cwd} {git_branch}$ "
# # No width_threshold = uses dynamic mode
#
# Example - Static:
# [prompt]
# format = "{cwd}$ "
# format_wide = "{time} {hostname} {cwd}$ "
# format_narrow = "{cwd}$ "
# width_threshold = 100  # Use narrow if width < 100

[prompt]
format = '''--({time:cyan} {hostname:yellow} {ip_address:yellow}~{battery_percentage:yellow}~{battery_power_charging:green}~{battery_power_discharging:yellow} {cwd:green}~{git_branch:magenta}{git_tracking:magenta}{git_status_clean:green}{git_status_staged:yellow}{git_status_unstaged:red}{git_elapsed:cyan})--
(width:{terminal_width:yellow}) {"!":white,bold} '''
format_narrow = '''{cwd:green}~{git_branch:magenta}{git_status_clean:green}{git_status_unstaged:red}
(width:{terminal_width:yellow}) {"!":white,bold} '''
